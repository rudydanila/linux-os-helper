### Пакетные менеджеры
В первой главе мы с вами разбирали, что [Все дистрибутивы можно поделить на три группы](/docs/sidebar1/ОС Linux и семейство UNIX. Дистрибутивы Linux) и там упоминали, что для различных дистрибутивов используются разные пакетные менеджеры. Давайте вспоминм это: 

1. **Debian‑based** — используют пакетный формат `.deb` и менеджер `dpkg/apt`. Это огромная семья: Debian, Ubuntu, Linux Mint, Pop!_OS и десятки других. 
2. Red Hat‑based — используют формат `.rpm` и менеджеры `dnf/yum`. Сюда входят Red Hat Enterprise Linux, Fedora, CentOS, Rocky Linux, AlmaLinux. 
3. Arch‑based — rolling‑release дистрибутивы с менеджером пакетов `pacman`. Это Arch Linux, Manjaro, EndeavourOS, CachyOS и другие.

**Пакетный менеджер в Linux** — это программа, которая автоматизирует установку, обновление, удаление и настройку программного обеспечения, упрощая управление пакетами (архивами файлов с программами и их зависимостями), решает вопросы конфликтов и гарантирует, что все нужные библиотеки установлены для корректной работы приложений. Он работает с репозиториями — хранилищами программ в интернете, и позволяет легко устанавливать сложные программы одной командой, так как сам скачивает и устанавливает все необходимые компоненты (зависимости)

1. Семейство Debian (APT / dpkg)

**Особенности:** Пакеты `.deb`. Самая популярная экосистема (благодаря Ubuntu). APT (Advanced Package Tool) — это надстройка над низкоуровневым `dpkg`.

- **Обновление репозиториев (`sudo apt update`):** Это критически важный первый шаг. Команда не обновляет программы, а скачивает актуальные списки доступного софта из серверов.
- **Установка с зависимостями:** APT автоматически вычисляет, какие библиотеки нужны программе, и предлагает их доустановить.
- **Удаление vs Очистка:**
    - `remove` удаляет только бинарные файлы.
    - `purge` удаляет также конфигурационные файлы в системных папках (полезно, если вы хотите переустановить программу «с чистого листа»).
- **Команда `full-upgrade`:** В отличие от обычного `upgrade`, эта команда может удалять старые пакеты или устанавливать новые для обновления ядра системы или крупных компонентов.

---

2. Семейство Red Hat (DNF / RPM)

**Особенности:** Пакеты `.rpm`. DNF (Dandified YUM) — современный наследник YUM. Он отличается высокой скоростью работы и продвинутым алгоритмом разрешения зависимостей.

- **Транзакционность:** Главная «фишка» DNF — работа через историю. Если после установки софта система начала вести себя странно, вы можете ввести `dnf history`, найти номер последней операции и отменить её одной командой `sudo dnf history undo [ID]`.
- **Группы пакетов:** В DNF очень удобно устанавливать софт целыми пачками. Например, `sudo dnf groupinstall "Development Tools"` поставит сразу всё необходимое для компиляции кода.
- **Автоматическая очистка:** В отличие от APT, DNF при удалении программы часто предлагает сразу удалить и ненужные более зависимости, что помогает поддерживать систему в чистоте без лишних команд.

---

3. Семейство Arch (Pacman)

**Особенности:** Rolling-release (обновления выходят постоянно, нет «мажорных версий» ОС). Pacman (Package Manager) — один из самых быстрых менеджеров.

- **Флаги-сокращения:** В Arch принято использовать короткие флаги.
    - `-S` (Sync) — установка.
    - `-y` (refresh) — обновление базы.
    - `-u` (sysupgrade) — обновление всей системы.
    - Поэтому команда `pacman -Syu` стала культовой в сообществе.
- **Работа с зависимостями:** При удалении рекомендуется использовать флаг `-Rs`. Это рекурсивное удаление: удаляется сам пакет и все его зависимости, которые не используются другими программами.
- **AUR (Arch User Repository):** Это главное преимущество Arch. Если программы нет в официальных репозиториях, она почти наверняка есть в AUR. Для работы с ним в 2025 году используют помощники (helpers), такие как **Yay** или **Paru**. Их синтаксис идентичен pacman, но они умеют искать софт по всему интернету.

### Шпаргалка

| Действие         | APT(Debian/Ubuntu)        | DNF(Red Hat)   | Pacman (Arch) |
| ---------------- | ------------------------- | -------------- | ------------- |
| Установка        | apt install               | dnf install    | pacman -S     |
| Удаление         | apt remove                | dnf remove     | pacman -Rs    |
| Обновление всего | apt update && apt upgrade | dnf upgrade    | pacman -Syu   |
| Поиск            | apt search                | dnf search     | pacman -Ss    |
| Очистка          | apt autoremove            | dnf autoremove | Parman -Rns   |
**Совет:** В 2025 году для Arch-based систем крайне рекомендуется использовать **AUR helper** (например, `yay` или `paru`), так как они позволяют устанавливать софт из пользовательского репозитория (AUR) той же командой: `yay -S [имя]`.
